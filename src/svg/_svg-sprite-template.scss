{{#hasMixin}}@mixin {{mixinName}} {
	background: url("{{{sprite}}}") no-repeat;
}

{{#hasCommon}}.{{commonName}} {
  @include {{mixinName}};
}

{{/hasCommon}}{{/hasMixin}}{{^hasMixin}}{{#hasCommon}}.{{/hasCommon}}{{^hasCommon}}%{{/hasCommon}}{{commonName}} {
	background-color: black;
}

{{/hasMixin}}{{#shapes}}{{#selector.shape}}{{expression}}{{^last}},
{{/last}}{{/selector.shape}} {
{{^hasCommon}}{{#hasMixin}}@include {{mixinName}};{{/hasMixin}}{{^hasMixin}}{{/hasMixin}}
{{/hasCommon}}
	mask-position: {{position.relative.xy}};
	mask: url("{{{sprite}}}#{{name}}") no-repeat;
	mask-size: contain;{{#dimensions.inline}}
	width: spacing({{width.outer}}px);
	height: spacing({{height.outer}}px);{{/dimensions.inline}}
}
{{#dimensions.extra}}
{{#selector.dimensions}}{{expression}}{{^last}},{{/last}}{{/selector.dimensions}} {
	width: spacing({{width.outer}}px);
	height: spacing({{height.outer}}px);
}
{{/dimensions.extra}}
{{/shapes}}

// TODO Rework it with #fragment or svgView#viewBox()
// mask-image: url({{{sprite}}}##{$name});
@mixin svg-mixin-mask {
	mask: url("{{{sprite}}}") no-repeat;
}

@mixin svg-mixin-mask-properties($name, $scale-value: 1, $mask-position-of-icon: false) {
	$name-exist: false;
	$scale-exist: false;

{{#shapes}}
	@if $mask-position-of-icon == "{{ name }}-mask-position" {
		mask-position: {{position.relative.xy}};
	}
	@if "#{$name}" == "{{ name }}" {
	$name-exist: true;
  {{#scale}}
		@if $scale-value == {{scaleValue}} {
		  width: spacing({{width.outer}}px * {{scaleValue}});
		  height: spacing({{height.outer}}px * {{scaleValue}});
		  mask-size: spacing({{spriteWidth}}px * {{scaleValue}}) spacing({{spriteHeight}}px * {{scaleValue}});
		  $scale-exist: true;
	  }
  {{/scale}}
	}
{{/shapes}}

	$error-message: false;
	@if $scale-exist == false {
		$error-message: "Scale value `#{$scale-value}` doesn't exist. Please add it to options.iconScale in gulp-options.js.";
	}

	@if $name-exist == false {
		$error-message: "Icon `#{$name}` doesn't exist.";
	}

	@if $error-message {
		@error $error-message;
	}
}
